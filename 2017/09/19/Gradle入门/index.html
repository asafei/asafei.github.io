<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>Gradle入门 | afei_ask</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一、构建工具1、构建工具的作用  依赖管理 测试、打包、发布 机器能干的活，绝不自己动手*  2、主流构建工具  Ant：编译、测试、打包 Maven： 依赖管理、发布 Gradle：  3、Gradle是什么一个开源的 项目自动化构架工具 ，建立在Apache Ant和Apache Maven概念的基础之上，并且引入基于Groovy的特定领域语言（DSL），而不再使用XML形式管理构建脚本。 二">
<meta name="keywords" content="Gradle">
<meta property="og:type" content="article">
<meta property="og:title" content="Gradle入门">
<meta property="og:url" content="http://yoursite.com/2017/09/19/Gradle入门/index.html">
<meta property="og:site_name" content="afei_ask">
<meta property="og:description" content="一、构建工具1、构建工具的作用  依赖管理 测试、打包、发布 机器能干的活，绝不自己动手*  2、主流构建工具  Ant：编译、测试、打包 Maven： 依赖管理、发布 Gradle：  3、Gradle是什么一个开源的 项目自动化构架工具 ，建立在Apache Ant和Apache Maven概念的基础之上，并且引入基于Groovy的特定领域语言（DSL），而不再使用XML形式管理构建脚本。 二">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-12-24T13:40:49.451Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Gradle入门">
<meta name="twitter:description" content="一、构建工具1、构建工具的作用  依赖管理 测试、打包、发布 机器能干的活，绝不自己动手*  2、主流构建工具  Ant：编译、测试、打包 Maven： 依赖管理、发布 Gradle：  3、Gradle是什么一个开源的 项目自动化构架工具 ，建立在Apache Ant和Apache Maven概念的基础之上，并且引入基于Groovy的特定领域语言（DSL），而不再使用XML形式管理构建脚本。 二">
  
    <link rel="alternate" href="/atom.xml" title="afei_ask" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">afei_ask</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Gradle入门" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/19/Gradle入门/" class="article-date">
  <time datetime="2017-09-19T14:48:53.000Z" itemprop="datePublished">2017-09-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Gradle入门
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="一、构建工具"><a href="#一、构建工具" class="headerlink" title="一、构建工具"></a>一、构建工具</h2><p>1、构建工具的作用</p>
<ul>
<li>依赖管理</li>
<li>测试、打包、发布</li>
<li>机器能干的活，绝不自己动手<br>*</li>
</ul>
<p>2、主流构建工具</p>
<ul>
<li>Ant：编译、测试、打包</li>
<li>Maven： 依赖管理、发布</li>
<li>Gradle：</li>
</ul>
<p>3、Gradle是什么<br>一个开源的 <strong>项目自动化构架工具</strong> ，建立在Apache Ant和Apache Maven概念的基础之上，并且引入基于Groovy的特定领域语言（DSL），而不再使用XML形式管理构建脚本。</p>
<h2 id="二、Gradle的安装"><a href="#二、Gradle的安装" class="headerlink" title="二、Gradle的安装"></a>二、Gradle的安装</h2><ol>
<li>确保本地已经安装JDK</li>
<li>从Gradle官网下载<a href="https://gradle.org" target="_blank" rel="noopener">Gradle</a></li>
<li>配置环境变量：GRADLE_HOME，并且添加到path，%GRADLE_HOME%\bin</li>
<li>验证是是否安装成功，gradle -v</li>
</ol>
<h2 id="三、Groovy是什么"><a href="#三、Groovy是什么" class="headerlink" title="三、Groovy是什么"></a>三、Groovy是什么</h2><p>Groovy是用于java虚拟机的一种敏捷的动态语言，它是一种成熟的面向对象编程语言，既可以用于面向对象编程，又可以用作纯粹的脚本语言。使用该语言不必编写过多的代码，同时又具有闭包和动态语言中的其它特性。 </p>
<h5 id="3-1-与java比较"><a href="#3-1-与java比较" class="headerlink" title="3.1 与java比较"></a>3.1 与java比较</h5><ul>
<li>Groovy完全兼容java语法</li>
<li>分号可选</li>
<li>类、方法默认是public</li>
<li>编译器给属性自动添加getter／setter方法</li>
<li>属性可以直接用点号获取</li>
<li>最后一个表达式的汁会被作为返回值（也就是return字符串可以不写）</li>
<li>== 等同于equals()，不会有NullPointerExceptioins</li>
</ul>
<h5 id="3-2-高效的grovvy特性"><a href="#3-2-高效的grovvy特性" class="headerlink" title="3.2 高效的grovvy特性"></a>3.2 高效的grovvy特性</h5><ul>
<li>可选类型定义 </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">def version=1</span><br></pre></td></tr></table></figure>
<ul>
<li>assert语句</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assert version==2</span><br></pre></td></tr></table></figure>
<ul>
<li>可选的括号</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//有没有括号，效果是一样的</span><br><span class="line"> println(version)  // 1</span><br><span class="line"> println version   // 1</span><br></pre></td></tr></table></figure>
<ul>
<li>字符串（单引号、双引号、三引号）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//单引号就是字符串</span><br><span class="line">def s1=&apos;com&apos;</span><br><span class="line"></span><br><span class="line">//双引号可以插入字符串,$&#123;&#125;</span><br><span class="line">def s2=&quot;afei&quot;</span><br><span class="line">def s22=&quot;afei is a $&#123;version&#125;&quot;</span><br><span class="line"></span><br><span class="line">//三引号可以换行</span><br><span class="line">def s3=&apos;&apos;&apos; wo shi ni die&apos;&apos;&apos;</span><br><span class="line"></span><br><span class="line">def s32=&apos;&apos;&apos;wo </span><br><span class="line">shi </span><br><span class="line">ni</span><br><span class="line">ma </span><br><span class="line">&apos;&apos;&apos;</span><br></pre></td></tr></table></figure>
<ul>
<li>集合API</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//list</span><br><span class="line">def buildTools=[&apos;ant&apos;,&apos;maven&apos;]</span><br><span class="line">buildTools&lt;&lt; &apos;gradle&apos;</span><br><span class="line">assert buildTools.getClass()== ArrayList</span><br><span class="line">assert buildTools.size() == 3</span><br><span class="line"></span><br><span class="line">//map</span><br><span class="line">def buidYears=[&apos;ant&apos;:2000,&apos;maven&apos;:2004] </span><br><span class="line">buildYears.gradle=2009</span><br><span class="line"></span><br><span class="line">println buildYears.ant  //2000</span><br><span class="line">printlb=n buildYears[&apos;gradle&apos;] //2009</span><br><span class="line"></span><br><span class="line">println buildYears.getClass()</span><br></pre></td></tr></table></figure>
<ul>
<li>闭包</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">def c1=&#123;</span><br><span class="line">	v -&gt;</span><br><span class="line">		println v</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">def c2=&#123;</span><br><span class="line">	println &apos;hello&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">def method1(Closure closure)&#123;</span><br><span class="line">	closure(&apos;param&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">def method2(Closure closure)&#123;</span><br><span class="line">	closure();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">method1(c1) //param</span><br><span class="line">method(c2)  //hello</span><br></pre></td></tr></table></figure>
<h5 id="3-3-grovvy基础知识"><a href="#3-3-grovvy基础知识" class="headerlink" title="3.3 grovvy基础知识"></a>3.3 grovvy基础知识</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//构建脚本默认都有个Project实例</span><br><span class="line"></span><br><span class="line">apply  plugn : &apos;java&apos; //命名参数 </span><br><span class="line"></span><br><span class="line">version=&apos;0.1&apos;</span><br><span class="line"></span><br><span class="line">repositories&#123;</span><br><span class="line">	mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencies&#123;</span><br><span class="line">	compile &apos;common-codec:commons-codec:1.6&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="四、Gradle项目"><a href="#四、Gradle项目" class="headerlink" title="四、Gradle项目"></a>四、Gradle项目</h2><h5 id="4-1-Gradle目录结构"><a href="#4-1-Gradle目录结构" class="headerlink" title="4.1 Gradle目录结构"></a>4.1 Gradle目录结构</h5><ul>
<li>src</li>
<li>main</li>
<li>java</li>
<li>resources   配置文件</li>
<li>webapp      web资源</li>
<li>test</li>
<li>java</li>
<li>resources</li>
</ul>
<h2 id="五、构建脚本"><a href="#五、构建脚本" class="headerlink" title="五、构建脚本"></a>五、构建脚本</h2><h5 id="项目-project"><a href="#项目-project" class="headerlink" title="项目 project"></a>项目 project</h5><p>一个项目代表一个正在构建的组件（比如一个jar文件），当构建启动后，Gradle会基于build.gradle实例化一个org.gradle.api.Project类，并且能够通过project变量使其隐式可用。</p>
<ul>
<li>group 、 name 、 version</li>
<li>apply（应用一个插件）、 dependencies（用来声明依赖，）、 repositories（声明仓库，去哪个仓库找jar包）、 task（声明项目中有哪些任务）</li>
<li>属性等其它配置方式：ext、gradle.properties(键值对的方式声明属性)</li>
</ul>
<h5 id="任务-task"><a href="#任务-task" class="headerlink" title="任务 task"></a>任务 task</h5><p>任务对应org.gradle.api.Task。主要包括任务动作和任务依赖。任务动作定义了一个最小的工作单元。可以定义依赖于其它任务、动作序列和执行条件。  </p>
<ul>
<li>dependsOn</li>
<li>doFirst(在动作列表最前边添加动作)、doLast（在动作列表最后边添加动作） &lt;&lt;</li>
</ul>
<h5 id="自定义一个task"><a href="#自定义一个task" class="headerlink" title="自定义一个task"></a>自定义一个task</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">def cresteDir=&#123;</span><br><span class="line">	path -&gt;</span><br><span class="line">		File dir=new File(path);</span><br><span class="line">		if(!dir.exists())&#123;</span><br><span class="line">			dir.mkdirs();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">task makeJavaDir()&#123;</span><br><span class="line">	def paths=[&apos;src/main/java&apos;,&apos;src/main/resources&apos;,&apos;src/test/java&apos;,&apos;src/rest/resources&apos;];</span><br><span class="line">	doFirst&#123; //动作代码，执行阶段会执行</span><br><span class="line">		path.forEach(createDir);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">task makeWebDir()&#123;</span><br><span class="line">	dependsOn &apos;makeJavaDir&apos;  //声明依赖makeJavaDir,执行makeWebDir时先执行makeJavaDir</span><br><span class="line">	def paths=[&apos;src/main/webapp&apos;,&apos;src/test/webapp&apos;];</span><br><span class="line">	doLast&#123;//动作代码，执行阶段会执行</span><br><span class="line">		paths.forEach(createDir);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="依赖管理"><a href="#依赖管理" class="headerlink" title="依赖管理"></a>依赖管理</h2><h5 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h5><p>几乎所有的基于JVM的软件项目都需要依赖外部类库来重用现有的功能。自动化的依赖管理可以明确依赖的版本，可以解决因传递性依赖带来的版本冲突。</p>
<h5 id="工件坐标"><a href="#工件坐标" class="headerlink" title="工件坐标"></a>工件坐标</h5><p>group、name、version</p>
<h5 id="常用仓库"><a href="#常用仓库" class="headerlink" title="常用仓库"></a>常用仓库</h5><ul>
<li>mavenLocal（本地仓库）／mavenCentral（公网仓库）／jcenter（公网仓库）</li>
<li>自定义的maven仓库</li>
<li>文件仓库</li>
</ul>
<h5 id="依赖的传递性"><a href="#依赖的传递性" class="headerlink" title="依赖的传递性"></a>依赖的传递性</h5><ul>
<li>B依赖A，如果C依赖B，那么C依赖A</li>
</ul>
<h5 id="依赖阶段配置"><a href="#依赖阶段配置" class="headerlink" title="依赖阶段配置"></a>依赖阶段配置</h5><ul>
<li>compile、runtime</li>
<li>testCompile、testRuntime</li>
</ul>
<p>配置maven仓库地址</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">respositories&#123;</span><br><span class="line">	mavenLocal()     //配置本地仓库</span><br><span class="line">	mavenCentral()   //配置公网仓库</span><br><span class="line">	maven&#123;           //配置私服仓库</span><br><span class="line">		url &apos;私服仓库地址&apos;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="解决版本冲突"><a href="#解决版本冲突" class="headerlink" title="解决版本冲突"></a>解决版本冲突</h6><p>传递依赖可能产生版本冲突</p>
<p>解决版本冲突</p>
<ul>
<li>产看依赖报告</li>
<li><ul>
<li>修改默认解决策略（gradle默认使用最新的版本）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">configurations.all&#123;</span><br><span class="line">	resolutionStrategy&#123;</span><br><span class="line">		failOnVersionConflict()  //强制冲突报错</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>排除传递性依赖</p>
</li>
<li><ul>
<li>修改默认解决策略<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">compile(&apos;org.hibernate:hibernate-core:3.6.3.Final&apos;)&#123;</span><br><span class="line">	exclude group:&quot;org.sef4j&quot;,module:&quot;slf4j-api&quot; //module就是坐标中的name属性</span><br><span class="line">	//transitive=false //排除所有的传递性依赖</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>强制一个版本</p>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">configurations.all&#123;</span><br><span class="line">	resolutionStrategy&#123;</span><br><span class="line">		force &apos;org.sef4j:slf4j-api:1.7.24&apos;	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="多项目构建"><a href="#多项目构建" class="headerlink" title="多项目构建"></a>多项目构建</h2><h5 id="项目模块化"><a href="#项目模块化" class="headerlink" title="项目模块化"></a>项目模块化</h5><p>settings.gradle就是用来多项目构建的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rootProject.name = &apos;todo&apos;</span><br><span class="line">include &apos;respository&apos;</span><br><span class="line">include &apos;model&apos;</span><br><span class="line">include &apos;web&apos;</span><br></pre></td></tr></table></figure></p>
<h5 id="如果每个module都配置相同的东西，可以将它们删除，然后在根build-gradle文件中添加："><a href="#如果每个module都配置相同的东西，可以将它们删除，然后在根build-gradle文件中添加：" class="headerlink" title="如果每个module都配置相同的东西，可以将它们删除，然后在根build.gradle文件中添加："></a>如果每个module都配置相同的东西，可以将它们删除，然后在根build.gradle文件中添加：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">allprojects&#123;</span><br><span class="line">	apply plugn: &apos;java&apos;</span><br><span class="line">	sourceCompactibility=1.8</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="如果需要将某个模块大包成war包，需要在改模块下面的build-gradle下添加"><a href="#如果需要将某个模块大包成war包，需要在改模块下面的build-gradle下添加" class="headerlink" title="如果需要将某个模块大包成war包，需要在改模块下面的build.gradle下添加"></a>如果需要将某个模块大包成war包，需要在改模块下面的build.gradle下添加</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apply plugn: &apos;war&apos;</span><br></pre></td></tr></table></figure>
<h5 id="如果要依赖另一个modele"><a href="#如果要依赖另一个modele" class="headerlink" title="如果要依赖另一个modele"></a>如果要依赖另一个modele</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">	compile project(&quot;: repository&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="在根build-gradle文件中给子module添加依赖"><a href="#在根build-gradle文件中给子module添加依赖" class="headerlink" title="在根build.gradle文件中给子module添加依赖"></a>在根build.gradle文件中给子module添加依赖</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">subprojects &#123;</span><br><span class="line">	respositories&#123;</span><br><span class="line">		mavenCentral()</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	dependencies&#123;</span><br><span class="line">		compile &apos;ch.qos.logback:logback-class^^^&apos;</span><br><span class="line">		testCompile group: &apos;junit&apos;, name: &apos;jnuit&apos;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="如果要版本统一"><a href="#如果要版本统一" class="headerlink" title="如果要版本统一"></a>如果要版本统一</h5><p>可以先将子模块中的版本号都取消，然后新建一个gradle.properites，在里面写入要添加的版本号：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">group = ‘com.afei.gradle’</span><br><span class="line">version=1.0</span><br></pre></td></tr></table></figure>
<h2 id="自动化测试"><a href="#自动化测试" class="headerlink" title="自动化测试"></a>自动化测试</h2><p>测试配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dependencies&#123;</span><br><span class="line">	testCompile &apos;junit:junit:4.11&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="测试发现"><a href="#测试发现" class="headerlink" title="测试发现"></a>测试发现</h5><ul>
<li>任何即成自junit.framework.TestCase或groovy.util.GroovyTestCase</li>
<li>任何使用@RunWith注解的类</li>
<li>任何至少包含一个被@Test注解的类</li>
</ul>
<h2 id="发布"><a href="#发布" class="headerlink" title="发布"></a>发布</h2><p>gradle没有自己的仓库，一般发布到maven仓库。<br>gradle使用插件发布，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">apply plugn:&apos;maven-pulish&apos;</span><br><span class="line">publishing&#123;</span><br><span class="line">	publications&#123;</span><br><span class="line">		myPublish(MavenPulication)&#123;</span><br><span class="line">			from components.java</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	repositories&#123;</span><br><span class="line">		maven&#123;</span><br><span class="line">			name &quot;myrepo&quot;</span><br><span class="line">			url &quot;私服地址&quot;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/09/19/Gradle入门/" data-id="ck4jzi8ng0001rflrdeuuhws6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Gradle/">Gradle</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/01/14/android-intent/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Android之Intent
        
      </div>
    </a>
  
  
    <a href="/2017/09/19/Java反射/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Java反射</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GIS/">GIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gradle/">Gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/">Markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/">SpringBoot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sublime/">sublime</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/">tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webgl/">webgl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/GIS/" style="font-size: 11.67px;">GIS</a> <a href="/tags/Gradle/" style="font-size: 10px;">Gradle</a> <a href="/tags/JavaScript/" style="font-size: 16.67px;">JavaScript</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/React/" style="font-size: 18.33px;">React</a> <a href="/tags/SpringBoot/" style="font-size: 11.67px;">SpringBoot</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/java/" style="font-size: 13.33px;">java</a> <a href="/tags/linux/" style="font-size: 11.67px;">linux</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/sublime/" style="font-size: 10px;">sublime</a> <a href="/tags/tomcat/" style="font-size: 11.67px;">tomcat</a> <a href="/tags/webgl/" style="font-size: 15px;">webgl</a> <a href="/tags/webpack/" style="font-size: 10px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/12/24/webgl2基础/">webgl2基础</a>
          </li>
        
          <li>
            <a href="/2019/12/24/low-graphics-mode解决方法/">low-graphics mode解决方法</a>
          </li>
        
          <li>
            <a href="/2019/12/24/Ubuntu固定ip和软件愿/">Ubuntu固定ip和软件愿</a>
          </li>
        
          <li>
            <a href="/2019/12/24/浏览器跨域/">浏览器跨域</a>
          </li>
        
          <li>
            <a href="/2019/12/24/git-rebase/">git rebase</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 杨亚辉<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>